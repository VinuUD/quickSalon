<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../resources/css/allManagers.css">
    <link rel="stylesheet" href="../..//resources/css/34.css">
    <link rel="stylesheet" href="../..//resources/css/popup2AllManagers.css">
    <link rel="stylesheet" href="../../resources/css/sideNavbar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    
    
    <title>All Managers</title>
</head>
<body onresize="whenResizing()">
    <!-- //////////////////////////////////////// -->
   <!-- update manager -->
    <div id="pop3" class="popup3">
        <div class="popup23">
            <div class="top1">
                <i><img  onclick="hide3(), show()" src="../../resources/icons/cross.png" alt=""></i>
                <b >Update EMP001</b> 
            </div>

            <div  class="bar">
                <div> <b>Emplyee ID </b>  <input  type="text" value="0710157140" disabled></div>
                <div> <b>Name </b>  <input type="text" value="1000000" disabled ></div>
                <div> <b>Contact Num </b>  <input  type="text" value="0710157140" ></div>
                <div> <b>Salary </b>  <input type="text" value="1000000" ></div>
                <div> <b>NIC </b>  <input  type="text" value="0710157140" disabled></div>
            </div>

            <div class="button3">
                <button onclick="hide3(), show()" class="btn-success34">Save</button>
            </div>
        </div>
   </div>
    <!-- ////////////////////////////////////////// -->
     <!-- remove manager -->
    <div id="pop1" class="popup1">
        <div class="popup21">
            <div class="top1">
                <i><img  onclick="hide2(), show()" src="../../resources/icons/cross.png" alt=""></i>
                <b >Remove Manager</b> 
            </div>
            <div class="pwd"> <b> Enter password </b>  <input  type="password" ></div>

            <div class="button1">
                <button onclick="hide2()" class="danger34">Remove</button>
            </div>
        </div>
   </div>

    <!-- ////////////////////////////////////////////// meka thama oya view button eka click krhma ena popup eka -->
    <div id="pop" class="popup">
        <div class="popup2">
            <div class="top1">
                <i><img  onclick="hide()" src="../../resources/icons/cross.png" alt=""></i>
                <b >EMP001</b> 
            </div>

            <div id="inDiv" class="bar">
                <div> <b>Employee Id </b>  <input  type="text" value="Shehan Sandeepa" disabled></div>
                <div> <b>Name </b>  <input type="text" value="emp001" disabled></div>
                <div> <b>Contact Num </b>  <input type="text" value="emp001" disabled></div>
                <div> <b>Salary </b>  <input type="text" value="emp001" disabled></div>
                <div> <b>NIC &nbsp;</b>  <input type="text" value="emp001" disabled></div>   
            </div>
            <br>

            <div class="tableDiv34">
                <table class="table34">
                    <tr>
                        <th>Control functions</th>
                    </tr>
                    <tr>
                       <td>Add service provider</td> 
                    </tr>
                    <tr>
                        <td>Remove service provider</td>
                    </tr>
                </table>
            </div>
            
           

            <div class="button">
                <button onclick="show2(), hide()" class="danger34">Remove</button>
                <button onclick="show3(),hide()" class="btn-danger34">Update</button>
                <button onclick="hide()" class="btn-success34">Control access</button>
                

            </div>
        </div>
   </div>
 <!-- ////////////////////////////////////////////////////////// -->

 <div id="mySidenav" class="sidenav">
    <div class="closeIcon">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    </div>
    <br><br>
    <!-- when i change here i should change nth child css -->
    <div class="imgDiv"><img class="imgIcon"  src="../../resources/icons/user.png" alt=""></div>
    <a href="#"><i class="fa fa-calendar"></i> &nbsp;&nbsp; View Salon  Schedule</a>
    <a href="#"><i class="fa fa-tasks" ></i> &nbsp;&nbsp; Service Management</a>
    <a href="#"><i class="fa fa-users" ></i> &nbsp;&nbsp; Employee Management</a>
    <a href="#"><i class = "fas fa-balance-scale-left"></i> &nbsp;&nbsp; Stock Management</a>
    <a href="#"><i class="fa fa-file" ></i>  &nbsp;&nbsp;&nbsp;&nbsp;Reports</a>
      <a href="#"><i class = "fas fa-sign-out-alt"></i> &nbsp;&nbsp; Logout</a>

  </div> <!-- sidebar -->
 <div id="main">

    <div class="back">
        <div id="navIcon" onclick="openNav()" class="navIcon"  ><img  src="../../resources/icons/three.png" alt="Ooops" ></div>
        <button onclick="change()" class="btn34">back</button>
    </div>

    <div class="topBar">
       <b>Managers</b> 
    </div>
    <div class="mainDiv">
        <div class="tableDiv34">
            <table id="myTable" class="table34">
                <tr>
                    <th>Employee ID</th>
                    <th>Name</th>
                    <th>Contact Num</th>
                    <th>NIC</th>
                    <th>View</th>
                </tr>
                <tbody id="tbl"></tbody>
            </table>
        </div>
    </div>

</div>

   <script type="text/javascript">

        $("document").ready(function(){
        	console.log("helloooooooooooo");
            $.get("allManagers.html/view", function(response) {
            	

                response.map(function(x){

                    $("#tbl").append(
                        "<tr>" +
                        "<td>" + x.empId + "</td>" +
                        "<td>" + x.firstName + x.lastName + "</td>" +
                        "<td>" + x.contactNum + "</td>" +
                        "<td>" + x.nic + "</td>" +
                        "<td style='display:none'>" + x.salary + "</td>" +
                        "<td>" + "<button title='view employee details' class = 'btn34' onclick = 'show(event)'>" + "<i class='fa fa-eye'>"+ "</i>" +  "</button>" + "</td>" +
                        "</tr>"
                    );


                });

                $("#myTable").on('click','.btn34',function(){

                    var currentRow=$(this).closest("tr");

                    var col1=currentRow.find("td:eq(0)").text();
                    var col2=currentRow.find("td:eq(1)").text();
                    var col3=currentRow.find("td:eq(2)").text();
                    var col4=currentRow.find("td:eq(3)").text();
                    var col5=currentRow.find("td:eq(4)").text();
                    var data=col1+"\n"+col2+"\n"+col3+"\n"+col4;

                    var inputFields = document.getElementById("inDiv").getElementsByTagName("input");
                    inputFields[0].value = col1;
                    inputFields[1].value = col2;
                    inputFields[2].value = col3;
                    inputFields[3].value = col5;
                    inputFields[4].value = col4;
                    console.log(inputFields);


                });

            });

        });

    </script>

 


    <script src="../../resources/javascript/allManagers.js"></script>
<script src="../../resources/javascript/side_navbar.js"></script>
</body>
</html>